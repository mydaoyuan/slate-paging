(this["webpackJsonpslate-paging"]=this["webpackJsonpslate-paging"]||[]).push([[0],{169:function(t,e,o){},244:function(t,e,o){},250:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),i=o(36),c=o.n(i),s=(o(169),o(4)),r=o(7),l=o(3),d=o(140),b=o(1),j=o(8),u="page",p=o(12),h={type:"page",children:[]},x=new Set,O=!1,m=function(t){var e=t.normalizeNode;return function(o){var a=Object(s.a)(o,2),n=a[0],i=a[1];if(console.log("into normalizePage"),!b.b.isElement(n)||"page"!==n.type)return e(o);if(O||x.size||Promise.resolve().then((function(){setTimeout((function(){O=!1,x.clear()})),console.log(x.size,"dirtyNodesdirtyNodes \u957f\u5ea6"),O=!0;for(var e=Array.from(x),o=function(){n=e.shift();var o=void 0;try{o=p.d.toDOMNode(t,n),console.log(o),console.log(o.children.length,n.children.length,"node.children.length")}catch(B){return{v:void 0}}var a=!!e.length,i=p.d.findPath(t,n),c=[i[0]+1];console.log(p.d.findPath(t,n)," ReactEditor.findPath(editor, node)");var s=window.getComputedStyle(o),r=o.offsetHeight-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)),l=0,d=Array.from(o.children),j=0;if(d.forEach((function(e,o){var s=f(e,j),d=s.height,u=s.marginBottom;j=u,(l+=d)>r&&(a&&c?function(t,e,o,a){var n=0;b.j.moveNodes(t,{at:o,match:function(t){return!(b.a.isEditor(t)||!b.b.isElement(t)||"page"===t.type)&&n++>=e},to:a.concat([0])})}(t,o,i,c):function(t,e,o,a){var n=0;b.j.wrapNodes(t,h,{at:o,split:!0,match:function(t){return!(b.a.isEditor(t)||!b.b.isElement(t)||"page"===t.type)&&n++>=e}}),b.j.moveNodes(t,{at:o,match:function(t){return!(b.a.isEditor(t)||!b.b.isElement(t)||"page"!==t.type||t===a)},to:[o[0]+1]})}(t,o,i,n))})),l<r&&a&&c){console.log("if current page have enough height can contain next");for(var u=r-l,x=p.d.toDOMNode(t,e[0]),O=Array.from(x.children),m=0,y=0;y<O.length;y++){var v=f(O[y],m),w=v.height;if(m=v.marginBottom,u<w)break;u-=w;var T=i.concat([n.children.length]);g(t,y,c,T),y===O.length-1&&b.j.removeNodes(t,{at:c})}}};e.length;){var a=o();if("object"===typeof a)return a.v}})),!O){if(!x.size){var c=b.a.previous(t,{at:i})||[],r=Object(s.a)(c,1)[0];r&&!x.has(r)&&x.add(r)}!x.has(n)&&x.add(n);var l=b.a.next(t,{at:i})||[],d=Object(s.a)(l,1)[0];d&&!x.has(d)&&x.add(d)}}};function f(t,e){var o=window.getComputedStyle(t),a=t.clientHeight,n=parseFloat(o.marginBottom),i=Math.max(n-e,0),c=parseFloat(o.marginBottom);return{height:a+(i+c)+(parseFloat(o.paddingBottom)+parseFloat(o.paddingTop))+(parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),marginBottom:c}}function g(t,e,o,a){b.j.moveNodes(t,{at:o,match:function(o){if(!b.a.isEditor(o)&&b.b.isElement(o)&&"page"!==o.type){var a;try{a=p.d.findPath(t,o)}catch(n){return!1}return a[1]<=e}return!1},to:a})}var y=o(5),v=(o(244),o(6)),w=function(t){var e=t.attributes,o=t.children,a=t.nodeProps;return Object(v.jsx)("div",Object(y.a)(Object(y.a)(Object(y.a)({},e),a),{},{className:"custom-page",children:o}))},T="#000",B='songti, "SimSun", STSong',k=function(){return Object(a.useMemo)((function(){var t,e;return e=Object(r.Y)((t={},Object(j.a)(t,u,w),Object(j.a)(t,r.l,Object(r.sb)(r.A,{styles:{root:{color:T,fontFamily:B,fontWeight:600,fontSize:"15.6px",lineHeight:"1.5",margin:"0.33em 0"}}})),Object(j.a)(t,r.p,Object(r.sb)(r.D,{styles:{root:{color:T,fontFamily:B,fontWeight:600,fontSize:"15.6px",lineHeight:"1.5"},text:{textDecoration:"none",opacity:1}}})),Object(j.a)(t,r.h,Object(r.sb)(r.A,{styles:{root:{color:T,fontFamily:B,fontWeight:600,fontSize:"32px",textAlign:"center",lineHeight:"1.4",paddingBottom:"16px"}}})),Object(j.a)(t,r.i,Object(r.sb)(r.A,{styles:{root:{color:T,fontFamily:B,fontWeight:600,fontSize:"18px",textAlign:"center",lineHeight:"1.5"}}})),Object(j.a)(t,r.n,Object(r.sb)(r.A,{as:"td",styles:{root:{backgroundColor:"#fff",color:T,fontFamily:B,border:"1px solid #000",padding:"3px 10px",minWidth:"48px",selectors:{"> *":{margin:0}}}}})),Object(j.a)(t,r.m,Object(r.sb)(r.C,{styles:{root:{border:"2px solid #000"}}})),Object(j.a)(t,r.o,Object(r.sb)(r.A,{as:"th",styles:{root:{color:T,fontFamily:B,backgroundColor:"#fff",border:"1px solid #000",padding:"3px 10px",minWidth:"48px",textAlign:"left",selectors:{"> *":{margin:0}}}}})),Object(j.a)(t,r.y,Object(r.sb)(r.B,{as:"u",styles:{root:{textDecoration:"none",borderBottom:"0.1em solid",paddingBottom:"0.15em"}}})),Object(j.a)(t,r.e,Object(r.sb)(r.A,{styles:{root:{textAlign:"right !important",selectors:{"> *":{textAlign:"right !important"}}}}})),Object(j.a)(t,r.b,Object(r.sb)(r.A,{styles:{root:{textAlign:"center"}}})),Object(j.a)(t,r.c,Object(r.sb)(r.A,{styles:{root:{textAlign:"justify !important",selectors:{"> *":{textAlign:"justify !important"}}}}})),Object(j.a)(t,r.d,Object(r.sb)(r.A,{styles:{root:{textAlign:"left !important",selectors:{"> *":{textAlign:"left !important"}}}}})),t)),Object(r.rb)(e,[{key:r.l,placeholder:"\u8f93\u5165\u6587\u5b57...",hideOnBlur:!0}])}),[])},S=o(20),F=(o(245),o(246),o(155),o(153)),A=o(152),E=o(156),N=o(158),H=o(157),P=o(160),C=o(161),z=o(159),V=o(148),D=o(150),W=o(147),I=o(149),M=o(97),L=o(98),R=o(145),q=o(146),J=o(151),U=o(99),G=(o(154),o(141)),K=o(144),Q=(o(41),function(){var t=Object(l.s)(Object(l.r)("focus"));return console.log("i am run render ToolbarButtonsBasicElements"),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(r.F,{type:Object(r.nb)(t,r.h),icon:Object(v.jsx)(G.a,{})}),Object(v.jsx)(r.F,{type:Object(r.nb)(t,r.i),icon:Object(v.jsx)(K.a,{})})]})}),X=function(){var t=Object(l.s)(Object(l.r)("focus"));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(r.G,{type:Object(r.nb)(t,r.q),icon:Object(v.jsx)(R.a,{})}),Object(v.jsx)(r.G,{type:Object(r.nb)(t,r.k),icon:Object(v.jsx)(q.a,{})})]})},Y=function(){var t=Object(l.s)(Object(l.r)("focus"));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(r.E,{type:Object(r.nb)(t,r.d),icon:Object(v.jsx)(W.a,{})}),Object(v.jsx)(r.E,{type:Object(r.nb)(t,r.b),icon:Object(v.jsx)(V.a,{})}),Object(v.jsx)(r.E,{type:Object(r.nb)(t,r.e),icon:Object(v.jsx)(I.a,{})}),Object(v.jsx)(r.E,{type:Object(r.nb)(t,r.c),icon:Object(v.jsx)(D.a,{})})]})},Z=function(){var t=Object(l.s)(Object(l.r)("focus"));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.s),icon:Object(v.jsx)(M.a,{})}),Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.t),icon:Object(v.jsx)(L.a,{})}),Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.y),icon:Object(v.jsx)(U.a,{})}),Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.v),icon:Object(v.jsx)(J.a,{})}),Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.x),clear:Object(r.nb)(t,r.w),icon:Object(v.jsx)(A.a,{})}),Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.w),clear:Object(r.nb)(t,r.x),icon:Object(v.jsx)(F.a,{})})]})},$=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(r.I,{icon:Object(v.jsx)(E.a,{}),transform:r.ob}),Object(v.jsx)(r.I,{icon:Object(v.jsx)(H.a,{}),transform:r.mb}),Object(v.jsx)(r.I,{icon:Object(v.jsx)(N.a,{}),transform:r.K}),Object(v.jsx)(r.I,{icon:Object(v.jsx)(z.a,{}),transform:r.lb}),Object(v.jsx)(r.I,{icon:Object(v.jsx)(P.a,{}),transform:r.J}),Object(v.jsx)(r.I,{icon:Object(v.jsx)(C.a,{}),transform:r.kb})]})},_=function(){var t=Object(l.s)(Object(l.r)("focus")),e={arrow:!0,delay:0,duration:[200,0],hideOnClick:!1,offset:[0,17],placement:"top"};return Object(v.jsxs)(r.a,{direction:"top",hiddenDelay:0,theme:"dark",arrow:!1,children:[Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.s),icon:Object(v.jsx)(M.a,{}),tooltip:Object(y.a)({content:"Bold (\u2318B)"},e)}),Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.t),icon:Object(v.jsx)(L.a,{}),tooltip:Object(y.a)({content:"Italic (\u2318I)"},e)}),Object(v.jsx)(r.H,{type:Object(r.nb)(t,r.y),icon:Object(v.jsx)(U.a,{}),tooltip:Object(y.a)({content:"Underline (\u2318U)"},e)})]})},tt={types:[r.f,r.p],defaultType:r.l},et={rules:[Object(y.a)(Object(y.a)({},tt),{},{hotkey:"Enter",predicate:r.pb}),Object(y.a)(Object(y.a)({},tt),{},{hotkey:"Backspace",predicate:r.qb})]},ot={rules:[{hotkey:"mod+enter",level:1},{hotkey:"mod+shift+enter",before:!0,level:1},{hotkey:"enter",query:{start:!0,end:!0,allow:r.r}}]},at={rules:[{hotkey:"shift+enter"},{hotkey:"enter",query:{allow:[r.g,r.f,r.n]}}]},nt=n.a.createContext({}),it={state:{},page:1,headerValue:"\u7b2c{{page}}\u9875 \u70b9\u51fb\u4fee\u6539",footerValue:"",headerAttribute:{},footerAttribute:{}},ct=n.a.createContext({data:it,setPageData:function(){},setData:function(){}}),st=o(248),rt={escape:/{{([^{][\s\S]+?[^}])}}/g,interpolate:/{{{([\s\S]+?)}}}/g};function lt(t){var e=t.value,o=t.changeValue,n=t.className,i=void 0===n?"":n,c=t.placeholder,r=t.style,l=t.page,d=Object(a.useCallback)((function(t){var e="";try{var o=st(t,rt)({page:l});console.log(o,"is value  compile"),e=o}catch(a){console.log(" \u65e0\u6548  \u53d8\u91cf \u5440\u5144\u5f1f is value  compile"),e="\u65e0\u6548\u8868\u8fbe\u5f0f"}return e=e.replaceAll(" ","\xa0")}),[l]),b=Object(a.useState)({focus:!1,compileValue:d(e)}),j=Object(s.a)(b,2),u=j[0],p=j[1];Object(a.useEffect)((function(){var t=d(e);p((function(e){return e.compileValue=t,e}))}),[e,d]);return Object(v.jsxs)("div",{className:u.focus?"".concat(i," page-input-warp active"):"".concat(i," page-input-warp"),style:r||{},children:[u.focus?Object(v.jsx)("input",{className:"page-input",value:e,autoFocus:!0,onChange:function(t){console.log("changeHeader"),o(t.target.value)},onBlur:function(){p(Object(y.a)(Object(y.a)({},u),{},{focus:!1,compileValue:d(e)}))},type:"text"}):null,Object(v.jsx)("div",{className:"page-content",style:{display:u.focus?"none":"block",fontSize:"14px"},onClick:function(){p(Object(y.a)(Object(y.a)({},u),{},{focus:!0}))},children:u.compileValue||c})]})}function dt(t){var e=Object(a.useContext)(ct),o=e.data,n=new Array(o.page).fill(""),i=function(t){e.setPageData(Object(y.a)(Object(y.a)({},o),{},{headerValue:t}))},c=function(t){e.setPageData(Object(y.a)(Object(y.a)({},o),{},{footerValue:t}))};return Object(v.jsx)("div",{className:"paging-com",children:n.map((function(t,e){return Object(v.jsxs)("div",{children:[Object(v.jsx)(lt,{style:{top:1122*e+60+"px"},changeValue:i,page:e+1,value:o.headerValue,placeholder:"\u70b9\u51fb\u8f93\u5165\u9875\u7709"}),Object(v.jsx)(lt,{style:{top:1122*(e+1)+60-44+"px"},changeValue:c,page:e+1,value:o.footerValue,placeholder:"\u70b9\u51fb\u8f93\u5165\u9875\u811a"})]},"page-warp"+e)}))})}var bt=function(t){var e=t.config,o=(t.eventBus,e.model),n=e.id,i=Object(a.useRef)(null),c=Object(d.useReactToPrint)({content:function(){return i.current},removeAfterPrint:!1});Object(a.useEffect)((function(){window.handlePrint=c}),[c]);var j=[{type:"page",children:[{type:"h1",children:[{text:"\ud83c\udf6a Deserialize HTML"}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]}]}],p=k(),h=Object(r.Z)(),x=function(){var t=Object(a.useMemo)((function(){var t=[Object(r.ab)(),Object(r.S)(),Object(r.X)(),Object(r.ib)(),Object(r.Q)(),Object(r.V)(),{pluginKeys:u,renderElement:Object(l.j)(u),withOverrides:function(t){var e=t.insertText;return t.normalizeNode=m(t),t.insertText=function(t){console.log("insertText",t),e(t)},t}},Object(r.hb)(),Object(r.L)(),Object(r.M)(),Object(r.N)(),Object(r.T)(),Object(r.R)(),Object(r.jb)(),Object(r.eb)(),Object(r.fb)(),Object(r.gb)(),Object(r.U)(),Object(r.W)(),Object(r.bb)(et),Object(r.db)(at),Object(r.P)(ot),Object(r.cb)({allow:r.j})];return t.push(Object(r.O)({plugins:t})),t}),[]),o=Object(a.useContext)(ct),i=Object(l.s)(),c=Object(a.useState)(j),d=Object(s.a)(c,2),x=d[0];d[1];return Object(v.jsx)(nt.Provider,{value:e,children:Object(v.jsxs)(r.z,{id:n,plugins:t,onChange:function(t){console.log(t),i&&b.a.normalize(i),console.log("normalize \u5f00\u59cb\u62c9"),o.setData(t)},components:p,options:h,editableProps:{style:{width:"794px",minHeight:"500px",outline:"1px solid rgb(238, 238, 238)"}},initialValue:x,children:[Object(v.jsxs)(S.b,{styles:{root:{margin:"0px -20px 0"}},children:[Object(v.jsx)(Q,{}),Object(v.jsx)(X,{}),Object(v.jsx)(Z,{}),Object(v.jsx)(Y,{}),Object(v.jsx)($,{})]}),Object(v.jsx)(_,{}),Object(v.jsx)(dt,{})]})})};return Object(v.jsx)("div",{ref:i,className:"read"===o?"readmodel-editor slate-editor-core":"slate-editor-core",children:Object(v.jsx)(x,{})})},jt=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,261)).then((function(e){var o=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,c=e.getTTFB;o(t),a(t),n(t),i(t),c(t)}))};c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(bt,{config:{model:"desc",id:"udos"}})}),document.getElementById("root")),jt()}},[[250,1,2]]]);
//# sourceMappingURL=main.91a66652.chunk.js.map