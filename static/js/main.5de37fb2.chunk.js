(this["webpackJsonpslate-paging"]=this["webpackJsonpslate-paging"]||[]).push([[0],{169:function(t,e,o){},244:function(t,e,o){},250:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),c=o(36),i=o.n(c),s=(o(169),o(4)),r=o(7),l=o(3),d=o(140),b=o(1),j=o(8),u="page",p=o(13),h={type:"page",children:[]},x=new Set,O=Promise.resolve(),m=!1,f=function(){var t;return function(){t||(t=setTimeout((function(){m=!1,x.clear(),t=null})))}}(),g=function t(e){var o;console.log(x.size,"dirtyNodesdirtyNodes \u957f\u5ea6"),f(),m=!0;for(var a=function(){var a=Array.from(x);o=a.shift(),x.delete(o);var n=void 0;try{console.log("start toDoM",o),n=p.d.toDOMNode(e,o),console.log(n),console.log(n.children.length,o.children.length,"node.children.length")}catch(C){return console.error("DOM \u8f6c\u6362\u5931\u8d25",C),{v:void 0}}var c=void 0;try{c=p.d.findPath(e,o)}catch(P){return console.log(P),"break"}console.log(c,"is pathpathpathpathpathpathpath \u5faa\u73af");var i=[c[0]+1],s=void 0;try{s=b.a.node(e,i)}catch(P){console.log(i,"\u6ca1\u6709\u8fd9\u4e2aslate \u8282\u70b9\uff0c\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u4e86")}for(var r=s&&s[0],l=!!r,d=window.getComputedStyle(n),j=n.offsetHeight-(parseFloat(d.paddingTop||"0")+parseFloat(d.paddingBottom||"0")),u=0,h=Array.from(n.children),O=0,m=0;m<h.length;m++){var f=y(h[m],O),g=f.height;if(O=f.marginBottom,(u+=g)>j){if(l&&i){v(e,m,c,i),Promise.resolve().then((function(){var t;try{t=b.a.node(e,i)}catch(P){}var o=t&&t[0];return!x.has(o)&&x.add(o),Promise.resolve()})).then((function(){t(e)}));break}w(e,m,c,o);break}}if(u<j&&l&&i&&r){console.log("if current page have enough height can contain next");var T,B=j-u;try{T=p.d.toDOMNode(e,r)}catch(P){return console.log(P),"break"}for(var S=Array.from(T.children),F=0,A=0;A<S.length;A++){var E=y(S[A],F),N=E.height;if(F=E.marginBottom,B<N)break;B-=N;var H=c.concat([o.children.length]);k(e,A,i,H),A===S.length-1&&b.j.removeNodes(e,{at:i})}}};x.size;){var n=a();if("break"===n)break;if("object"===typeof n)return n.v}};function y(t,e){var o=window.getComputedStyle(t),a=t.clientHeight,n=parseFloat(o.marginBottom),c=Math.max(n-e,0),i=parseFloat(o.marginBottom);return{height:a+(c+i)+(parseFloat(o.paddingBottom)+parseFloat(o.paddingTop))+(parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),marginBottom:i}}function v(t,e,o,a){var n=0;b.j.moveNodes(t,{at:o,match:function(t){return!(b.a.isEditor(t)||!b.b.isElement(t)||!["h1","h2","p","ul"].includes(t.type))&&n++>=e},to:a.concat([0])})}function w(t,e,o,a){var n=0;b.j.wrapNodes(t,h,{at:o,split:!0,match:function(t){return!(b.a.isEditor(t)||!b.b.isElement(t)||!["h1","h2","p","ul"].includes(t.type))&&(console.log(t.type,n,e),n++>=e)}}),b.j.moveNodes(t,{at:o,match:function(t){return!(b.a.isEditor(t)||!b.b.isElement(t)||"page"!==t.type||t===a)},to:[o[0]+1]})}function k(t,e,o,a){b.j.moveNodes(t,{at:o,match:function(o){if(!b.a.isEditor(o)&&b.b.isElement(o)&&["h1","h2","p","ul"].includes(o.type)&&"page"!==o.type){var a;try{a=p.d.findPath(t,o)}catch(n){return!1}return a[1]<=e}return!1},to:a})}var T=function(){return function(t){var e=t.insertText;return t.normalizeNode=function(t){var e=t.normalizeNode;return function(o){var a=Object(s.a)(o,2),n=a[0],c=a[1];if(!b.b.isElement(n)||"page"!==n.type)return e(o);if(m||x.size||O.then((function(){g(t)})),!m){if(!x.size){var i=b.a.previous(t,{at:c})||[],r=Object(s.a)(i,1)[0];r&&!x.has(r)&&x.add(r)}!x.has(n)&&x.add(n)}}}(t),t.insertText=function(t){console.log("insertText",t),e(t)},t}},B=o(5),S=(o(244),o(6)),F=function(t){var e=t.attributes,o=t.children,a=t.nodeProps;return Object(S.jsx)("div",Object(B.a)(Object(B.a)(Object(B.a)({},e),a),{},{className:"custom-page",children:o}))},A="#000",E='songti, "SimSun", STSong',N=function(){return Object(a.useMemo)((function(){var t,e;return e=Object(r.Y)((t={},Object(j.a)(t,u,F),Object(j.a)(t,r.l,Object(r.sb)(r.A,{styles:{root:{color:A,fontFamily:E,fontWeight:600,fontSize:"15.6px",lineHeight:"1.5",margin:"0.33em 0"}}})),Object(j.a)(t,r.p,Object(r.sb)(r.D,{styles:{root:{color:A,fontFamily:E,fontWeight:600,fontSize:"15.6px",lineHeight:"1.5"},text:{textDecoration:"none",opacity:1}}})),Object(j.a)(t,r.h,Object(r.sb)(r.A,{styles:{root:{color:A,fontFamily:E,fontWeight:600,fontSize:"32px",textAlign:"center",lineHeight:"1.4",paddingBottom:"16px"}}})),Object(j.a)(t,r.i,Object(r.sb)(r.A,{styles:{root:{color:A,fontFamily:E,fontWeight:600,fontSize:"18px",textAlign:"center",lineHeight:"1.5"}}})),Object(j.a)(t,r.n,Object(r.sb)(r.A,{as:"td",styles:{root:{backgroundColor:"#fff",color:A,fontFamily:E,border:"1px solid #000",padding:"3px 10px",minWidth:"48px",selectors:{"> *":{margin:0}}}}})),Object(j.a)(t,r.m,Object(r.sb)(r.C,{styles:{root:{border:"2px solid #000"}}})),Object(j.a)(t,r.o,Object(r.sb)(r.A,{as:"th",styles:{root:{color:A,fontFamily:E,backgroundColor:"#fff",border:"1px solid #000",padding:"3px 10px",minWidth:"48px",textAlign:"left",selectors:{"> *":{margin:0}}}}})),Object(j.a)(t,r.y,Object(r.sb)(r.B,{as:"u",styles:{root:{textDecoration:"none",borderBottom:"0.1em solid",paddingBottom:"0.15em"}}})),Object(j.a)(t,r.e,Object(r.sb)(r.A,{styles:{root:{textAlign:"right !important",selectors:{"> *":{textAlign:"right !important"}}}}})),Object(j.a)(t,r.b,Object(r.sb)(r.A,{styles:{root:{textAlign:"center"}}})),Object(j.a)(t,r.c,Object(r.sb)(r.A,{styles:{root:{textAlign:"justify !important",selectors:{"> *":{textAlign:"justify !important"}}}}})),Object(j.a)(t,r.d,Object(r.sb)(r.A,{styles:{root:{textAlign:"left !important",selectors:{"> *":{textAlign:"left !important"}}}}})),t)),Object(r.rb)(e,[{key:r.l,placeholder:"\u8f93\u5165\u6587\u5b57...",hideOnBlur:!0}])}),[])},H=o(20),C=(o(245),o(246),o(155),o(153)),P=o(152),z=o(156),D=o(158),V=o(157),W=o(160),I=o(161),M=o(159),L=o(148),q=o(150),R=o(147),J=o(149),U=o(97),G=o(98),K=o(145),Q=o(146),X=o(151),Y=o(99),Z=(o(154),o(141)),$=o(144),_=(o(41),function(){var t=Object(l.s)(Object(l.r)("focus"));return console.log("i am run render ToolbarButtonsBasicElements"),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(r.F,{type:Object(r.nb)(t,r.h),icon:Object(S.jsx)(Z.a,{})}),Object(S.jsx)(r.F,{type:Object(r.nb)(t,r.i),icon:Object(S.jsx)($.a,{})})]})}),tt=function(){var t=Object(l.s)(Object(l.r)("focus"));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(r.G,{type:Object(r.nb)(t,r.q),icon:Object(S.jsx)(K.a,{})}),Object(S.jsx)(r.G,{type:Object(r.nb)(t,r.k),icon:Object(S.jsx)(Q.a,{})})]})},et=function(){var t=Object(l.s)(Object(l.r)("focus"));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(r.E,{type:Object(r.nb)(t,r.d),icon:Object(S.jsx)(R.a,{})}),Object(S.jsx)(r.E,{type:Object(r.nb)(t,r.b),icon:Object(S.jsx)(L.a,{})}),Object(S.jsx)(r.E,{type:Object(r.nb)(t,r.e),icon:Object(S.jsx)(J.a,{})}),Object(S.jsx)(r.E,{type:Object(r.nb)(t,r.c),icon:Object(S.jsx)(q.a,{})})]})},ot=function(){var t=Object(l.s)(Object(l.r)("focus"));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.s),icon:Object(S.jsx)(U.a,{})}),Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.t),icon:Object(S.jsx)(G.a,{})}),Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.y),icon:Object(S.jsx)(Y.a,{})}),Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.v),icon:Object(S.jsx)(X.a,{})}),Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.x),clear:Object(r.nb)(t,r.w),icon:Object(S.jsx)(P.a,{})}),Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.w),clear:Object(r.nb)(t,r.x),icon:Object(S.jsx)(C.a,{})})]})},at=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(r.I,{icon:Object(S.jsx)(z.a,{}),transform:r.ob}),Object(S.jsx)(r.I,{icon:Object(S.jsx)(V.a,{}),transform:r.mb}),Object(S.jsx)(r.I,{icon:Object(S.jsx)(D.a,{}),transform:r.K}),Object(S.jsx)(r.I,{icon:Object(S.jsx)(M.a,{}),transform:r.lb}),Object(S.jsx)(r.I,{icon:Object(S.jsx)(W.a,{}),transform:r.J}),Object(S.jsx)(r.I,{icon:Object(S.jsx)(I.a,{}),transform:r.kb})]})},nt=function(){var t=Object(l.s)(Object(l.r)("focus")),e={arrow:!0,delay:0,duration:[200,0],hideOnClick:!1,offset:[0,17],placement:"top"};return Object(S.jsxs)(r.a,{direction:"top",hiddenDelay:0,theme:"dark",arrow:!1,children:[Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.s),icon:Object(S.jsx)(U.a,{}),tooltip:Object(B.a)({content:"Bold (\u2318B)"},e)}),Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.t),icon:Object(S.jsx)(G.a,{}),tooltip:Object(B.a)({content:"Italic (\u2318I)"},e)}),Object(S.jsx)(r.H,{type:Object(r.nb)(t,r.y),icon:Object(S.jsx)(Y.a,{}),tooltip:Object(B.a)({content:"Underline (\u2318U)"},e)})]})},ct={types:[r.f,r.p],defaultType:r.l},it={rules:[Object(B.a)(Object(B.a)({},ct),{},{hotkey:"Enter",predicate:r.pb}),Object(B.a)(Object(B.a)({},ct),{},{hotkey:"Backspace",predicate:r.qb})]},st={rules:[{hotkey:"mod+enter",level:1},{hotkey:"mod+shift+enter",before:!0,level:1},{hotkey:"enter",query:{start:!0,end:!0,allow:r.r}}]},rt={rules:[{hotkey:"shift+enter"},{hotkey:"enter",query:{allow:[r.g,r.f,r.n]}}]},lt=n.a.createContext({}),dt={state:{},page:1,headerValue:"\u7b2c{{page}}\u9875 \u70b9\u51fb\u4fee\u6539",footerValue:"",headerAttribute:{},footerAttribute:{}},bt=n.a.createContext({data:dt,setPageData:function(){},setData:function(){}}),jt=o(248),ut={escape:/{{([^{][\s\S]+?[^}])}}/g,interpolate:/{{{([\s\S]+?)}}}/g};function pt(t){var e=t.value,o=t.changeValue,n=t.className,c=void 0===n?"":n,i=t.placeholder,r=t.style,l=t.page,d=Object(a.useCallback)((function(t){var e="";try{e=jt(t,ut)({page:l})}catch(o){console.log(" \u65e0\u6548  \u53d8\u91cf \u5440\u5144\u5f1f is value  compile"),e="\u65e0\u6548\u8868\u8fbe\u5f0f"}return e=e.replaceAll(" ","\xa0")}),[l]),b=Object(a.useState)({focus:!1,compileValue:d(e)}),j=Object(s.a)(b,2),u=j[0],p=j[1];Object(a.useEffect)((function(){var t=d(e);p((function(e){return e.compileValue=t,e}))}),[e,d]);return Object(S.jsxs)("div",{className:u.focus?"".concat(c," page-input-warp active"):"".concat(c," page-input-warp"),style:r||{},children:[u.focus?Object(S.jsx)("input",{className:"page-input",value:e,autoFocus:!0,onChange:function(t){console.log("changeHeader"),o(t.target.value)},onBlur:function(){p(Object(B.a)(Object(B.a)({},u),{},{focus:!1,compileValue:d(e)}))},type:"text"}):null,Object(S.jsx)("div",{className:"page-content",style:{display:u.focus?"none":"block",fontSize:"14px"},onClick:function(){p(Object(B.a)(Object(B.a)({},u),{},{focus:!0}))},children:u.compileValue||i})]})}function ht(t){var e=Object(a.useContext)(bt),o=e.data,n=new Array(o.page).fill(""),c=function(t){e.setPageData(Object(B.a)(Object(B.a)({},o),{},{headerValue:t}))},i=function(t){e.setPageData(Object(B.a)(Object(B.a)({},o),{},{footerValue:t}))};return Object(S.jsx)("div",{className:"paging-com",children:n.map((function(t,e){return Object(S.jsxs)("div",{children:[Object(S.jsx)(pt,{style:{top:1122*e+60+"px"},changeValue:c,page:e+1,value:o.headerValue,placeholder:"\u70b9\u51fb\u8f93\u5165\u9875\u7709"}),Object(S.jsx)(pt,{style:{top:1122*(e+1)+60-44+"px"},changeValue:i,page:e+1,value:o.footerValue,placeholder:"\u70b9\u51fb\u8f93\u5165\u9875\u811a"})]},"page-warp"+e)}))})}var xt=[{type:"page",children:[{type:"h1",children:[{text:"\ud83c\udf6a Deserialize HTML"}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]},{type:"p",children:[{text:"By default, pasting content into a Slate editor will use the clipboard's "},{text:"'text/plain'",code:!0},{text:" data. That's okay for some use cases, but sometimes you want users to be able to paste in content and have it maintain its formatting. To do this, your editor needs to handle "},{text:"'text/html'",code:!0},{text:" data. "}]}]}],Ot=function(t){var e=t.config,o=(t.eventBus,e.model),n=e.id,c=Object(a.useRef)(null),i=Object(d.useReactToPrint)({content:function(){return c.current},removeAfterPrint:!1});Object(a.useEffect)((function(){window.handlePrint=i}),[i]);var j=xt,p=N(),h=Object(r.Z)(),x=function(){var t=Object(a.useMemo)((function(){var t=[Object(r.ab)(),Object(r.S)(),Object(r.X)(),Object(r.ib)(),Object(r.Q)(),Object(r.V)(),{pluginKeys:u,renderElement:Object(l.j)(u),withOverrides:T()},Object(r.hb)(),Object(r.L)(),Object(r.M)(),Object(r.N)(),Object(r.T)(),Object(r.R)(),Object(r.jb)(),Object(r.eb)(),Object(r.fb)(),Object(r.gb)(),Object(r.U)(),Object(r.W)(),Object(r.bb)(it),Object(r.db)(rt),Object(r.P)(st),Object(r.cb)({allow:r.j})];return t.push(Object(r.O)({plugins:t})),t}),[]),o=Object(a.useContext)(bt),c=Object(l.s)(),i=Object(a.useState)(j),d=Object(s.a)(i,2),x=d[0];d[1];return Object(S.jsx)(lt.Provider,{value:e,children:Object(S.jsxs)(r.z,{id:n,plugins:t,onChange:function(t){console.log(t),c&&b.a.normalize(c),console.log("normalize \u5f00\u59cb\u62c9"),o.setData(t)},components:p,options:h,editableProps:{style:{width:"794px",minHeight:"500px",outline:"1px solid rgb(238, 238, 238)"}},initialValue:x,children:[Object(S.jsxs)(H.b,{styles:{root:{margin:"0px -20px 0"}},children:[Object(S.jsx)(_,{}),Object(S.jsx)(tt,{}),Object(S.jsx)(ot,{}),Object(S.jsx)(et,{}),Object(S.jsx)(at,{})]}),Object(S.jsx)(nt,{}),Object(S.jsx)(ht,{})]})})};return Object(S.jsx)("div",{ref:c,className:"read"===o?"readmodel-editor slate-editor-core":"slate-editor-core",children:Object(S.jsx)(x,{})})},mt=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,261)).then((function(e){var o=e.getCLS,a=e.getFID,n=e.getFCP,c=e.getLCP,i=e.getTTFB;o(t),a(t),n(t),c(t),i(t)}))};i.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(Ot,{config:{model:"desc",id:"udos"}})}),document.getElementById("root")),mt()}},[[250,1,2]]]);
//# sourceMappingURL=main.5de37fb2.chunk.js.map